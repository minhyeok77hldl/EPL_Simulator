<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EPL ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        h1 {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .game-modes {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        .mode-btn {
            padding: 15px 30px;
            background: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }
        .mode-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0,0,0,0.3);
        }
        .mode-btn.active {
            background: #4CAF50;
            color: white;
        }
        .teams-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .team-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            border: 3px solid transparent;
        }
        .team-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        .team-card.selected {
            border-color: #4CAF50;
            background: #f0fff0;
        }
        .team-logo {
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
            background: #ddd;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            color: white;
        }
        .arsenal { background: #DC052D; }
        .nottingham { background: #DD0000; }
        .mancity { background: #6CABDD; }
        .villa { background: #95BFE5; }
        .palace { background: #1B458F; }
        .united { background: #DA020E; }
        .team-name {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .team-players {
            font-size: 0.9rem;
            color: #666;
        }
        .vs-section {
            text-align: center;
            margin: 30px 0;
        }
        .vs-teams {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            margin-bottom: 20px;
        }
        .vs-team {
            text-align: center;
        }
        .vs-logo {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
        }
        .vs-text {
            font-size: 2rem;
            font-weight: bold;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .match-controls {
            text-align: center;
            margin: 20px 0;
        }
        .simulate-btn, .back-btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }
        .simulate-btn {
            background: #FF6B35;
            color: white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        .simulate-btn:hover {
            background: #FF5722;
            transform: translateY(-2px);
        }
        .back-btn {
            background: #6c757d;
            color: white;
        }
        .back-btn:hover {
            background: #5a6268;
        }
        .match-commentary {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .commentary-line {
            margin: 10px 0;
            padding: 8px 12px;
            border-radius: 8px;
            animation: fadeIn 0.5s ease;
        }
        .commentary-goal {
            background: #ffeb3b;
            border-left: 4px solid #ff9800;
        }
        .commentary-card {
            background: #ffcdd2;
            border-left: 4px solid #f44336;
        }
        .commentary-sub {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }
        .commentary-normal {
            background: #f5f5f5;
            border-left: 4px solid #9e9e9e;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .score-display {
            text-align: center;
            font-size: 2rem;
            font-weight: bold;
            color: white;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .league-table {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .league-table h3 {
            margin-bottom: 20px;
            text-align: center;
            color: #333;
        }
        .table-header, .table-row {
            display: grid;
            grid-template-columns: 1fr 2fr 1fr 1fr 1fr 1fr 1fr;
            gap: 10px;
            padding: 10px;
            align-items: center;
        }
        .table-header {
            background: #f0f0f0;
            font-weight: bold;
            border-radius: 8px;
        }
        .table-row {
            border-bottom: 1px solid #eee;
        }
        .table-row:hover {
            background: #f9f9f9;
        }
        .hidden {
            display: none;
        }
        .squad-view {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .squad-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        .player-card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 15px;
            text-align: center;
            border: 2px solid #e9ecef;
        }
        .player-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        .player-position {
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 10px;
        }
        .player-stats {
            display: flex;
            justify-content: space-around;
            font-size: 0.8rem;
        }
        .stat {
            text-align: center;
        }
        .stat-value {
            font-weight: bold;
            color: #4CAF50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚öΩ EPL ÏãúÎÆ¨Î†àÏù¥ÌÑ∞</h1>
        
        <div class="game-modes">
            <button class="mode-btn active" onclick="switchMode('match')">1vs1 Îß§Ïπò</button>
            <button class="mode-btn" onclick="switchMode('league')">Î¶¨Í∑∏Ï†Ñ</button>
        </div>

        <div id="match-mode">
            <div class="teams-grid" id="teams-grid">
                </div>

            <div class="vs-section" id="vs-section" style="display: none;">
                <div class="vs-teams">
                    <div class="vs-team">
                        <div class="vs-logo" id="team1-logo"></div>
                        <div id="team1-name"></div>
                    </div>
                    <div class="vs-text">VS</div>
                    <div class="vs-team">
                        <div class="vs-logo" id="team2-logo"></div>
                        <div id="team2-name"></div>
                    </div>
                </div>
                
                <div class="match-controls">
                    <button class="simulate-btn" onclick="simulateMatch()">Í≤ΩÍ∏∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò ÏãúÏûë!</button>
                    <button class="back-btn" onclick="resetSelection()">ÌåÄ Îã§Ïãú ÏÑ†ÌÉù</button>
                </div>

                <div class="score-display" id="score-display"></div>
                <div class="match-commentary" id="commentary"></div>
            </div>
        </div>

        <div id="league-mode" class="hidden">
            <div class="match-controls">
                <button class="simulate-btn" onclick="simulateLeague()">Î¶¨Í∑∏Ï†Ñ ÏãúÎÆ¨Î†àÏù¥ÏÖò ÏãúÏûë!</button>
            </div>
            <div class="league-table" id="league-table"></div>
        </div>

        <div id="squad-view" class="hidden">
            <button class="back-btn" onclick="hideSquadView()">‚Üê ÎèåÏïÑÍ∞ÄÍ∏∞</button>
            <div class="squad-view">
                <h3 id="squad-title"></h3>
                <div class="squad-grid" id="squad-grid"></div>
            </div>
        </div>
    </div>

    <script>
        // ÌåÄ Îç∞Ïù¥ÌÑ∞
        const teams = {
            arsenal: {
                name: 'ÏïÑÏä§ÎÑê',
                logo: 'ARS',
                color: 'arsenal',
                players: [
                    {name: 'Îã§ÎπÑÎìú ÎùºÏïº', position: 'GK'},
                    {name: 'Î≤§ ÌôîÏù¥Ìä∏', position: 'DF'},
                    {name: 'ÏúåÎ¶¨ÏóÑ ÏÇ¥Î¶¨Î∞î', position: 'DF'},
                    {name: 'Í∞ÄÎ∏åÎ¶¨Ïóò', position: 'DF'},
                    {name: 'Ïò¨Î†âÏÇ∞ÎìúÎ•¥ ÏßÑÏ≤∏ÏΩî', position: 'DF'},
                    {name: 'Îç∞ÌÅ¥ÎûÄ ÎùºÏù¥Ïä§', position: 'MF'},
                    {name: 'ÎßàÌã¥ Ïô∏Îç∞Í≥†Î•¥', position: 'MF'},
                    {name: 'Î∂ÄÏπ¥Ïöî ÏÇ¨Ïπ¥', position: 'FW'},
                    {name: 'Í∞ÄÎ∏åÎ¶¨Ïóò ÎßàÎ•¥Ìã∞ÎÑ¨Î¶¨', position: 'FW'},
                    {name: 'Ïπ¥Ïù¥ ÌïòÎ≤†Î•¥Ï∏†', position: 'FW'},
                    {name: 'Í∞ÄÎ∏åÎ¶¨Ïóò Ï†úÏàòÏä§', position: 'FW'}
                ]
            },
            nottingham: {
                name: 'ÎÖ∏ÌåÖÏóÑ Ìè¨Î†àÏä§Ìä∏',
                logo: 'NOT',
                color: 'nottingham',
                players: [
                    {name: 'ÎßàÏ∏† ÏÖÄÏä§', position: 'GK'},
                    {name: 'ÎãàÏΩî ÏóòÎ≤†Îîî', position: 'DF'},
                    {name: 'Î¨¥Î¶¥Î°ú', position: 'DF'},
                    {name: 'Ïò§Î©ò Ïò§ÎãàÏòåÏ¶à', position: 'DF'},
                    {name: 'ÏïàÌÜ†Îãà ÏóòÎûëÍ∞Ä', position: 'DF'},
                    {name: 'ÎùºÏù¥Ïñ∏ ÏòàÏù¥Ï∏†', position: 'MF'},
                    {name: 'Îã§ÎãàÏóòÎ°ú', position: 'MF'},
                    {name: 'ÏóòÎ¶¨Ïóá Ïï§ÎçîÏä®', position: 'MF'},
                    {name: 'Î™®Í±¥ Í∏∞Î∏åÏä§-ÌôîÏù¥Ìä∏', position: 'FW'},
                    {name: 'ÌÅ¨Î¶¨Ïä§ Ïö∞Îìú', position: 'FW'},
                    {name: 'ÏπºÎüº ÌóàÎìúÏä®-Ïò§ÎèÑÏù¥', position: 'FW'}
                ]
            },
            mancity: {
                name: 'Îß®Ï≤¥Ïä§ÌÑ∞ ÏãúÌã∞',
                logo: 'MCI',
                color: 'mancity',
                players: [
                    {name: 'ÏóêÎç∞Î•¥ÏÜ°', position: 'GK'},
                    {name: 'Ïπ¥Ïùº ÏõåÏª§', position: 'DF'},
                    {name: 'Î£®Î≤§ ÎîîÏïÑÏä§', position: 'DF'},
                    {name: 'Ï°∞ÏäàÏïÑ Ïä§ÌÜ§Ï¶à', position: 'DF'},
                    {name: 'ÏöîÏäàÏΩî Í∑∏Î∞îÎ•¥ÎîîÏò¨', position: 'DF'},
                    {name: 'Î°úÎìúÎ¶¨', position: 'MF'},
                    {name: 'ÏºÄÎπà Îç∞ Î∏åÎùºÏúÑÎÑà', position: 'MF'},
                    {name: 'Î≤†Î•¥ÎÇòÎ•¥Îëê Ïã§Î∞î', position: 'MF'},
                    {name: 'ÏóòÎßÅ ÌôÄÎûÄÎìú', position: 'FW'},
                    {name: 'Ï†úÎ†àÎØ∏ ÎèÑÏø†', position: 'FW'},
                    {name: 'Ï§ÑÎ¶¨Ïïà ÏïåÎ∞îÎ†àÏä§', position: 'FW'}
                ]
            },
            villa: {
                name: 'ÏïÑÏä§ÌÑ¥ ÎπåÎùº',
                logo: 'AVL',
                color: 'villa',
                players: [
                    {name: 'ÏóêÎ∞ÄÎ¶¨ÏïÑÎÖ∏ ÎßàÎ•¥Ìã∞ÎÑ§Ïä§', position: 'GK'},
                    {name: 'ÏóêÏ¶àÎ¶¨ ÏΩòÏÇ¨', position: 'DF'},
                    {name: 'ÌååÏö∞ ÌÜ†Î†àÏä§', position: 'DF'},
                    {name: 'ÌÉÄÏù¥Î°† Î∞çÏä§', position: 'DF'},
                    {name: 'Î£®Ïπ¥Ïä§ ÎîîÏ¶à', position: 'DF'},
                    {name: 'Î∂ÄÎ∞îÏπ¥Î•¥ Ïπ¥ÎßàÎùº', position: 'MF'},
                    {name: 'ÎçîÍ∏ÄÎùºÏä§ Î£®Ïù¥Ïä§', position: 'MF'},
                    {name: 'Ï°¥ Îß•Í∏¥', position: 'MF'},
                    {name: 'Ïò¨Î¶¨ ÏôìÌÇ®Ïä§', position: 'FW'},
                    {name: 'Î†àÏò® Î≤†ÏùºÎ¶¨', position: 'FW'},
                    {name: 'Î™®Î•¥Í∞Ñ Î°úÏ†ÄÏä§', position: 'FW'}
                ]
            },
            palace: {
                name: 'ÌÅ¨Î¶¨Ïä§ÌÉà Ìå∞Î¶¨Ïä§',
                logo: 'CRY',
                color: 'palace',
                players: [
                    {name: 'Îîò Ìó®ÎçîÏä®', position: 'GK'},
                    {name: 'Îã§ÎãàÏóò Î¨¥Îá®Ï¶à', position: 'DF'},
                    {name: 'ÎßàÎ•¥ÌÅ¨ Í≤åÌûà', position: 'DF'},
                    {name: 'ÏöîÏïÑÌÇ¥ ÏïàÎç∞Î•¥ÏÑº', position: 'DF'},
                    {name: 'ÌÉÄÏù¥Î¶≠ ÎØ∏Ï≤º', position: 'DF'},
                    {name: 'ÏïÑÎã¥ ÏôÄÌÑ¥', position: 'MF'},
                    {name: 'Ï†úÌîÑÎ¶¨ Ïä§ÌÅ¥ÎüΩ', position: 'MF'},
                    {name: 'ÏúåÌîÑÎ†àÎìú ÏûêÌïò', position: 'FW'},
                    {name: 'ÏóêÎ≤®Î†àÏπò ÏóêÏ†ú', position: 'FW'},
                    {name: 'Ïû• ÌïÑÎ¶¨ÌîÑ ÎßàÌÖåÌÉÄ', position: 'FW'},
                    {name: 'Ïù¥ÏÇ¨ÎßàÏùºÎùº ÏÇ¨Î•¥', position: 'FW'}
                ]
            },
            united: {
                name: 'Îß®Ï≤¥Ïä§ÌÑ∞ Ïú†ÎÇòÏù¥Ìã∞Îìú',
                logo: 'MUN',
                color: 'united',
                players: [
                    {name: 'ÏïàÎìúÎ†à Ïò§ÎÇòÎÇò', position: 'GK'},
                    {name: 'ÎîîÏò§Í≥† Îã¨Î°Ø', position: 'DF'},
                    {name: 'Ìï¥Î¶¨ Îß§Í≥ºÏù¥Ïñ¥', position: 'DF'},
                    {name: 'Î¶¨ÏÇ∞ÎìúÎ°ú ÎßàÎ•¥Ìã∞ÎÑ§Ïä§', position: 'DF'},
                    {name: 'Î£®ÌÅ¨ Ïáº', position: 'DF'},
                    {name: 'Ïπ¥ÏÑ∏ÎØ∏Î£®', position: 'MF'},
                    {name: 'Î∏åÎ£®ÎàÑ ÌéòÎ•¥ÎÇúÎç∞Ïä§', position: 'MF'},
                    {name: 'ÎßàÎ•¥Ïø†Ïä§ ÎûòÏãúÌè¨Îìú', position: 'FW'},
                    {name: 'ÏïàÌÜ†Îãà', position: 'FW'},
                    {name: 'ÎùºÏä§Î¨¥Ïä§ ÌöåÏùºÎ£¨Îìú', position: 'FW'},
                    {name: 'ÏïåÎ†àÌïúÎìúÎ°ú Í∞ÄÎ•¥ÎÇòÏ¥à', position: 'FW'}
                ]
            }
        };

        let selectedTeams = [];
        let currentMode = 'match';
        let leagueTable = [];

        // ÏÑ†Ïàò Îä•Î†•Ïπò ÏÉùÏÑ±
        function generatePlayerStats() {
            return {
                attack: Math.floor(Math.random() * 40) + 60,
                defense: Math.floor(Math.random() * 40) + 60,
                pace: Math.floor(Math.random() * 40) + 60,
                skill: Math.floor(Math.random() * 40) + 60
            };
        }

        // ÌåÄ Îä•Î†•Ïπò Ï¥àÍ∏∞Ìôî
        Object.keys(teams).forEach(teamId => {
            teams[teamId].players.forEach(player => {
                player.stats = generatePlayerStats();
            });
        });

        function initializeTeamCards() {
            const teamsGrid = document.getElementById('teams-grid');
            teamsGrid.innerHTML = '';
            Object.keys(teams).forEach(teamId => {
                const team = teams[teamId];
                const teamCard = document.createElement('div');
                teamCard.className = 'team-card';
                teamCard.onclick = () => selectTeam(teamId);
                teamCard.ondblclick = () => showSquad(teamId);
                teamCard.innerHTML = `
                    <div class="team-logo ${team.color}">${team.logo}</div>
                    <div class="team-name">${team.name}</div>
                    <div class="team-players">${team.players.length}Î™ÖÏùò ÏÑ†Ïàò</div>
                    <div style="font-size: 0.8rem; color: #999; margin-top: 10px;">
                        ÎçîÎ∏îÌÅ¥Î¶≠ÌïòÏó¨ Ïä§ÏøºÎìú Î≥¥Í∏∞
                    </div>
                `;
                teamsGrid.appendChild(teamCard);
            });
        }

        function selectTeam(teamId) {
            if (selectedTeams.length < 2 && !selectedTeams.includes(teamId)) {
                selectedTeams.push(teamId);
                updateTeamSelection();
            }
        }

        function updateTeamSelection() {
            document.querySelectorAll('.team-card').forEach((card, index) => {
                const teamId = Object.keys(teams)[index];
                if (selectedTeams.includes(teamId)) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });

            if (selectedTeams.length === 2) {
                showVsSection();
            }
        }

        function showVsSection() {
            const team1 = teams[selectedTeams[0]];
            const team2 = teams[selectedTeams[1]];

            document.getElementById('team1-logo').className = `vs-logo ${team1.color}`;
            document.getElementById('team1-logo').textContent = team1.logo;
            document.getElementById('team1-name').textContent = team1.name;

            document.getElementById('team2-logo').className = `vs-logo ${team2.color}`;
            document.getElementById('team2-logo').textContent = team2.logo;
            document.getElementById('team2-name').textContent = team2.name;

            document.getElementById('vs-section').style.display = 'block';
            document.getElementById('teams-grid').style.display = 'none';
        }

        function resetSelection() {
            selectedTeams = [];
            document.getElementById('vs-section').style.display = 'none';
            document.getElementById('teams-grid').style.display = 'grid';
            document.getElementById('commentary').innerHTML = '';
            document.getElementById('score-display').innerHTML = '';
            updateTeamSelection();
        }

        function simulateMatch() {
            const team1 = teams[selectedTeams[0]];
            const team2 = teams[selectedTeams[1]];
            const commentary = document.getElementById('commentary');
            const scoreDisplay = document.getElementById('score-display');
            
            commentary.innerHTML = '';
            let score1 = 0, score2 = 0;
            let minute = 0;

            const events = [];

            // Í≤ΩÍ∏∞ Ïù¥Î≤§Ìä∏ ÏÉùÏÑ±
            for (let i = 0; i < 15; i++) {
                const eventMinute = Math.floor(Math.random() * 90) + 1;
                const eventType = Math.random();
                const team = Math.random() > 0.5 ? team1 : team2;
                const player = team.players[Math.floor(Math.random() * team.players.length)];

                if (eventType < 0.1) {
                    events.push({minute: eventMinute, type: 'goal', team: team.name, player: player.name});
                } else if (eventType < 0.2) {
                    events.push({minute: eventMinute, type: 'card', team: team.name, player: player.name});
                } else if (eventType < 0.3) {
                    events.push({minute: eventMinute, type: 'substitution', team: team.name, player: player.name});
                } else {
                    events.push({minute: eventMinute, type: 'normal', team: team.name, player: player.name});
                }
            }

            events.sort((a, b) => a.minute - b.minute);

            // Ïã§ÏãúÍ∞Ñ Ï§ëÍ≥Ñ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            let eventIndex = 0;
            const interval = setInterval(() => {
                minute++;
                
                if (eventIndex < events.length && events[eventIndex].minute <= minute) {
                    const event = events[eventIndex];
                    let commentaryText = '';
                    let commentaryClass = 'commentary-normal';

                    switch (event.type) {
                        case 'goal':
                            if (event.team === team1.name) score1++;
                            else score2++;
                            commentaryText = `‚öΩ ${event.minute}Î∂Ñ: Í≥®! ${event.player}(${event.team})Í∞Ä ÌôòÏÉÅÏ†ÅÏù∏ ÏäõÏúºÎ°ú Í≥®ÎßùÏùÑ ÌùîÎì≠ÎãàÎã§!`;
                            commentaryClass = 'commentary-goal';
                            break;
                        case 'card':
                            commentaryText = `üü® ${event.minute}Î∂Ñ: ${event.player}(${event.team})Í∞Ä Í≤ΩÍ≥†Î•º Î∞õÏäµÎãàÎã§.`;
                            commentaryClass = 'commentary-card';
                            break;
                        case 'substitution':
                            commentaryText = `‚ÜîÔ∏è ${event.minute}Î∂Ñ: ${event.team}ÏóêÏÑú ÏÑ†Ïàò ÍµêÏ≤¥Í∞Ä ÏûàÏäµÎãàÎã§. ${event.player}Í∞Ä Ìà¨ÏûÖÎê©ÎãàÎã§.`;
                            commentaryClass = 'commentary-sub';
                            break;
                        default:
                            const actions = [
                                `Ìå®Ïä§Î•º ÏãúÎèÑÌï©ÎãàÎã§`,
                                `ÎìúÎ¶¨Î∏îÏùÑ ÏãúÎèÑÌï©ÎãàÎã§`,
                                `ÏäõÏùÑ ÏãúÎèÑÌïòÏßÄÎßå Í≥®ÌÇ§ÌçºÍ∞Ä ÎßâÏïÑÎÉÖÎãàÎã§`,
                                `ÌÅ¨Î°úÏä§Î•º Ïò¨Î¶ΩÎãàÎã§`,
                                `ÌÉúÌÅ¥ÏùÑ ÏãúÎèÑÌï©ÎãàÎã§`,
                                `Ìó§Îî©ÏùÑ ÏãúÎèÑÌï©ÎãàÎã§`
                            ];
                            commentaryText = `${event.minute}Î∂Ñ: ${event.player}(${event.team})Í∞Ä ${actions[Math.floor(Math.random() * actions.length)]}.`;
                    }
                    
                    const commentaryLine = document.createElement('div');
                    commentaryLine.className = `commentary-line ${commentaryClass}`;
                    commentaryLine.textContent = commentaryText;
                    commentary.appendChild(commentaryLine);
                    commentary.scrollTop = commentary.scrollHeight;
                    eventIndex++;
                }

                scoreDisplay.innerHTML = `${team1.name} ${score1} - ${score2} ${team2.name}`;

                if (minute >= 90) {
                    clearInterval(interval);
                    const finalLine = document.createElement('div');
                    finalLine.className = 'commentary-line commentary-normal';
                    finalLine.innerHTML = `<strong>üèÅ Í≤ΩÍ∏∞ Ï¢ÖÎ£å! ÏµúÏ¢Ö Ïä§ÏΩîÏñ¥: ${team1.name} ${score1} - ${score2} ${team2.name}</strong>`;
                    commentary.appendChild(finalLine);
                    commentary.scrollTop = commentary.scrollHeight;
                }
            }, 200);
        }

        function switchMode(mode) {
            currentMode = mode;
            document.querySelectorAll('.mode-btn').forEach(btn => btn.classList.remove('active'));
            
            // ÌÅ¥Î¶≠Îêú Î≤ÑÌäºÏóê active ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
            document.querySelectorAll('.mode-btn').forEach(btn => {
                if ((mode === 'match' && btn.textContent.includes('1vs1')) || 
                    (mode === 'league' && btn.textContent.includes('Î¶¨Í∑∏Ï†Ñ'))) {
                    btn.classList.add('active');
                }
            });

            if (mode === 'match') {
                document.getElementById('match-mode').classList.remove('hidden');
                document.getElementById('league-mode').classList.add('hidden');
                document.getElementById('squad-view').classList.add('hidden');
                resetSelection();
            } else {
                document.getElementById('match-mode').classList.add('hidden');
                document.getElementById('league-mode').classList.remove('hidden');
                document.getElementById('squad-view').classList.add('hidden');
                initializeLeagueTable();
            }
        }

        function initializeLeagueTable() {
            leagueTable = Object.keys(teams).map(teamId => ({
                team: teams[teamId].name,
                played: 0,
                won: 0,
                drawn: 0,
                lost: 0,
                goalsFor: 0,
                goalsAgainst: 0,
                points: 0
            }));
            
            updateLeagueDisplay();
        }

        function updateLeagueDisplay() {
            const tableDiv = document.getElementById('league-table');
            
            // ÏäπÏ†êÏàúÏúºÎ°ú Ï†ïÎ†¨
            leagueTable.sort((a, b) => {
                if (b.points !== a.points) return b.points - a.points;
                return (b.goalsFor - b.goalsAgainst) - (a.goalsFor - a.goalsAgainst);
            });

            let tableHTML = `
                <h3>üèÜ Î¶¨Í∑∏ ÏàúÏúÑÌëú</h3>
                <div class="table-header">
                    <div>ÏàúÏúÑ</div>
                    <div>ÌåÄ</div>
                    <div>Í≤ΩÍ∏∞</div>
                    <div>Ïäπ</div>
                    <div>Î¨¥</div>
                    <div>Ìå®</div>
                    <div>ÏäπÏ†ê</div>
                </div>
            `;

            leagueTable.forEach((team, index) => {
                tableHTML += `
                    <div class="table-row">
                        <div>${index + 1}</div>
                        <div>${team.team}</div>
                        <div>${team.played}</div>
                        <div>${team.won}</div>
                        <div>${team.drawn}</div>
                        <div>${team.lost}</div>
                        <div><strong>${team.points}</strong></div>
                    </div>
                `;
            });
            tableDiv.innerHTML = tableHTML;
        }
        
        function simulateLeague() {
            const teamIds = Object.keys(teams);
            
            // Î¶¨Í∑∏ ÌÖåÏù¥Î∏î Ï¥àÍ∏∞Ìôî
            initializeLeagueTable();
            
            // Î™®Îì† ÌåÄÏù¥ ÏÑúÎ°ú Ìïú Î≤àÏî© Í≤ΩÍ∏∞
            for (let i = 0; i < teamIds.length; i++) {
                for (let j = i + 1; j < teamIds.length; j++) {
                    const team1Name = teams[teamIds[i]].name;
                    const team2Name = teams[teamIds[j]].name;

                    // Í∞ÑÎã®Ìïú Í≤ΩÍ∏∞ Í≤∞Í≥º ÏÉùÏÑ±
                    const score1 = Math.floor(Math.random() * 4);
                    const score2 = Math.floor(Math.random() * 4);

                    const team1Index = leagueTable.findIndex(t => t.team === team1Name);
                    const team2Index = leagueTable.findIndex(t => t.team === team2Name);

                    leagueTable[team1Index].played++;
                    leagueTable[team2Index].played++;
                    leagueTable[team1Index].goalsFor += score1;
                    leagueTable[team1Index].goalsAgainst += score2;
                    leagueTable[team2Index].goalsFor += score2;
                    leagueTable[team2Index].goalsAgainst += score1;

                    if (score1 > score2) {
                        leagueTable[team1Index].won++;
                        leagueTable[team1Index].points += 3;
                        leagueTable[team2Index].lost++;
                    } else if (score1 < score2) {
                        leagueTable[team2Index].won++;
                        leagueTable[team2Index].points += 3;
                        leagueTable[team1Index].lost++;
                    } else {
                        leagueTable[team1Index].drawn++;
                        leagueTable[team1Index].points += 1;
                        leagueTable[team2Index].drawn++;
                        leagueTable[team2Index].points += 1;
                    }
                }
            }

            updateLeagueDisplay();
        }

        function showSquad(teamId) {
            const team = teams[teamId];
            document.getElementById('squad-title').textContent = `${team.name} Ïä§ÏøºÎìú`;
            const squadGrid = document.getElementById('squad-grid');
            squadGrid.innerHTML = '';

            team.players.forEach(player => {
                const playerCard = document.createElement('div');
                playerCard.className = 'player-card';
                playerCard.innerHTML = `
                    <div class="player-name">${player.name}</div>
                    <div class="player-position">${player.position}</div>
                    <div class="player-stats">
                        <div class="stat">Í≥µÍ≤©: <span class="stat-value">${player.stats.attack}</span></div>
                        <div class="stat">ÏàòÎπÑ: <span class="stat-value">${player.stats.defense}</span></div>
                        <div class="stat">ÏÜçÎèÑ: <span class="stat-value">${player.stats.pace}</span></div>
                        <div class="stat">Í∏∞Ïà†: <span class="stat-value">${player.stats.skill}</span></div>
                    </div>
                `;
                squadGrid.appendChild(playerCard);
            });

            document.getElementById('squad-view').classList.remove('hidden');
            document.getElementById('match-mode').classList.add('hidden');
            document.getElementById('league-mode').classList.add('hidden');
        }

        function hideSquadView() {
            document.getElementById('squad-view').classList.add('hidden');
            if (currentMode === 'match') {
                document.getElementById('match-mode').classList.remove('hidden');
                resetSelection(); // ÌåÄ ÏÑ†ÌÉù ÌôîÎ©¥ÏúºÎ°ú ÎèåÏïÑÍ∞ÄÍ∏∞
            } else {
                document.getElementById('league-mode').classList.remove('hidden');
            }
        }
        
        // ÌéòÏù¥ÏßÄ Î°úÎî© Ïãú Ï¥àÍ∏∞Ìôî
        document.addEventListener('DOMContentLoaded', () => {
            initializeTeamCards();
        });
    </script>
</body>
</html>